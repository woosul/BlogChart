<svg viewBox="0 0 1400 1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- 그라디언트 정의 -->
    <linearGradient id="cncGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FF6B6B;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#EE5A52;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dataGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4ECDC4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#45B7AF;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="aiGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#45B7D1;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#4A90E2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="ragGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#96CEB4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7FB069;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="interfaceGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FECA57;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#FF9F43;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="outputGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#A55EEA;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#8E44AD;stop-opacity:1" />
    </linearGradient>
    
    <!-- 그림자 필터 -->
    <filter id="dropShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="#00000030"/>
    </filter>
    
    <!-- 화살표 마커 -->
    <marker id="arrowRed" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#FF6B6B"/>
    </marker>
    <marker id="arrowBlue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4A90E2"/>
    </marker>
    <marker id="arrowGreen" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#7FB069"/>
    </marker>
    <marker id="arrowOrange" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#FF9F43"/>
    </marker>
    <marker id="arrowPurple" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#8E44AD"/>
    </marker>
    <marker id="arrowTeal" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4ECDC4"/>
    </marker>
  </defs>

  <!-- 배경 -->
  <rect width="1400" height="1000" fill="#f8fafc"/>
  
  <!-- 제목 -->
  <text x="700" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#2c3e50">
    CNC 데이터 분석을 위한 로컬 LLM 프레임워크 구성도
  </text>
  
  <!-- 부제목 -->
  <text x="700" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#7f8c8d">
    시계열 분석 • 자연어 인터페이스 • 코드 생성 • RAG 시스템의 통합 구조
  </text>

  <!-- ===== 1. CNC 머신 데이터 수집 계층 ===== -->
  <g id="cnc-layer">
    <!-- 배경 섹션 -->
    <rect x="50" y="80" width="1300" height="120" rx="10" fill="#fff5f5" stroke="#FF6B6B" stroke-width="2" filter="url(#dropShadow)"/>
    <text x="70" y="105" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#FF6B6B">
      🏭 CNC 머신 데이터 수집 계층
    </text>
    
    <!-- CNC 머신들 -->
    <rect x="100" y="120" width="120" height="60" rx="8" fill="url(#cncGradient)" filter="url(#dropShadow)"/>
    <text x="160" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">CNC Machine 001</text>
    <text x="160" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">스핀들: 2000RPM</text>
    <text x="160" y="168" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">온도: 65°C</text>
    
    <rect x="250" y="120" width="120" height="60" rx="8" fill="url(#cncGradient)" filter="url(#dropShadow)"/>
    <text x="310" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">CNC Machine 002</text>
    <text x="310" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">진동: 0.45mm/s</text>
    <text x="310" y="168" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">전력: 15kW</text>
    
    <rect x="400" y="120" width="120" height="60" rx="8" fill="url(#cncGradient)" filter="url(#dropShadow)"/>
    <text x="460" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">CNC Machine 003</text>
    <text x="460" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">절삭력: 180N</text>
    <text x="460" y="168" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">공구마모: 25%</text>
    
    <!-- 센서 데이터 -->
    <rect x="600" y="120" width="100" height="60" rx="5" fill="#ecf0f1" stroke="#bdc3c7"/>
    <text x="650" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#2c3e50">IoT 센서</text>
    <text x="650" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">• 온도 센서</text>
    <text x="650" y="162" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">• 진동 센서</text>
    <text x="650" y="174" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">• 압력 센서</text>
    
    <!-- PLC -->
    <rect x="750" y="120" width="100" height="60" rx="5" fill="#ecf0f1" stroke="#bdc3c7"/>
    <text x="800" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#2c3e50">PLC</text>
    <text x="800" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">• OPC UA</text>
    <text x="800" y="162" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">• Modbus TCP</text>
    <text x="800" y="174" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">• EtherNet/IP</text>
    
    <!-- 실시간 데이터 스트림 -->
    <rect x="950" y="120" width="350" height="60" rx="8" fill="url(#dataGradient)" filter="url(#dropShadow)"/>
    <text x="1125" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">📊 실시간 데이터 스트림</text>
    <text x="980" y="158" font-family="Arial, sans-serif" font-size="9" fill="white">• 시계열 데이터: 1초당 100포인트</text>
    <text x="980" y="170" font-family="Arial, sans-serif" font-size="9" fill="white">• 다중 파라미터: 온도, 진동, 압력, 속도, 전력 등</text>
  </g>

  <!-- ===== 2. 데이터 처리 및 전처리 계층 ===== -->
  <g id="processing-layer">
    <rect x="50" y="220" width="1300" height="100" rx="10" fill="#f0f9ff" stroke="#4ECDC4" stroke-width="2" filter="url(#dropShadow)"/>
    <text x="70" y="245" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#4ECDC4">
      ⚙️ 데이터 처리 및 전처리 계층
    </text>
    
    <!-- 데이터 수집기 -->
    <rect x="100" y="260" width="120" height="45" rx="5" fill="#ffffff" stroke="#4ECDC4" stroke-width="2"/>
    <text x="160" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#4ECDC4">데이터 수집기</text>
    <text x="160" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">SQLite/InfluxDB</text>
    
    <!-- 데이터 정제 -->
    <rect x="270" y="260" width="120" height="45" rx="5" fill="#ffffff" stroke="#4ECDC4" stroke-width="2"/>
    <text x="330" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#4ECDC4">데이터 정제</text>
    <text x="330" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">노이즈 제거/필터링</text>
    
    <!-- 특징 추출 -->
    <rect x="440" y="260" width="120" height="45" rx="5" fill="#ffffff" stroke="#4ECDC4" stroke-width="2"/>
    <text x="500" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#4ECDC4">특징 추출</text>
    <text x="500" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">FFT/통계분석</text>
    
    <!-- 이상 감지 -->
    <rect x="610" y="260" width="120" height="45" rx="5" fill="#ffffff" stroke="#4ECDC4" stroke-width="2"/>
    <text x="670" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#4ECDC4">이상 감지</text>
    <text x="670" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">임계값/ML 기반</text>
    
    <!-- 데이터 저장소 -->
    <rect x="780" y="260" width="200" height="45" rx="5" fill="#ffffff" stroke="#4ECDC4" stroke-width="2"/>
    <text x="880" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#4ECDC4">시계열 데이터베이스</text>
    <text x="880" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">InfluxDB + 벡터 저장소 (Chroma)</text>
    
    <!-- 실시간 스트리밍 -->
    <rect x="1030" y="260" width="150" height="45" rx="5" fill="#ffffff" stroke="#4ECDC4" stroke-width="2"/>
    <text x="1105" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#4ECDC4">실시간 스트리밍</text>
    <text x="1105" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">Kafka/Redis Stream</text>
  </g>

  <!-- ===== 3. 로컬 LLM 코어 시스템 ===== -->
  <g id="llm-core">
    <rect x="50" y="340" width="1300" height="180" rx="10" fill="#f0f8ff" stroke="#4A90E2" stroke-width="2" filter="url(#dropShadow)"/>
    <text x="70" y="365" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#4A90E2">
      🤖 로컬 LLM 코어 시스템
    </text>
    
    <!-- LLM 모델들 -->
    <rect x="100" y="380" width="140" height="70" rx="8" fill="url(#aiGradient)" filter="url(#dropShadow)"/>
    <text x="170" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Code Llama 7B</text>
    <text x="170" y="415" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 코드 생성</text>
    <text x="170" y="428" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 스크립트 작성</text>
    <text x="170" y="441" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 함수 최적화</text>
    
    <rect x="280" y="380" width="140" height="70" rx="8" fill="url(#aiGradient)" filter="url(#dropShadow)"/>
    <text x="350" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Llama3.2 3B</text>
    <text x="350" y="415" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 자연어 처리</text>
    <text x="350" y="428" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 질의응답</text>
    <text x="350" y="441" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 보고서 생성</text>
    
    <rect x="460" y="380" width="140" height="70" rx="8" fill="url(#aiGradient)" filter="url(#dropShadow)"/>
    <text x="530" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">DeepSeek Coder</text>
    <text x="530" y="415" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 디버깅</text>
    <text x="530" y="428" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 코드 리뷰</text>
    <text x="530" y="441" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 최적화 제안</text>
    
    <!-- 모델 라우터 -->
    <rect x="650" y="390" width="120" height="50" rx="8" fill="#2c3e50" filter="url(#dropShadow)"/>
    <text x="710" y="410" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">지능형 라우터</text>
    <text x="710" y="425" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">작업별 모델 선택</text>
    
    <!-- Ollama 서버 -->
    <rect x="820" y="380" width="120" height="70" rx="8" fill="#34495e" filter="url(#dropShadow)"/>
    <text x="880" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Ollama 서버</text>
    <text x="880" y="415" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 모델 관리</text>
    <text x="880" y="428" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• API 서빙</text>
    <text x="880" y="441" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 로드 밸런싱</text>
    
    <!-- 임베딩 모델 -->
    <rect x="990" y="380" width="140" height="70" rx="8" fill="url(#aiGradient)" filter="url(#dropShadow)"/>
    <text x="1060" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">임베딩 모델</text>
    <text x="1060" y="415" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">sentence-transformers</text>
    <text x="1060" y="428" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 벡터 변환</text>
    <text x="1060" y="441" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 유사도 검색</text>
    
    <!-- 성능 모니터링 -->
    <rect x="100" y="465" width="200" height="40" rx="5" fill="#e8f5e8" stroke="#27ae60" stroke-width="2"/>
    <text x="200" y="485" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#27ae60">성능 모니터링</text>
    <text x="120" y="497" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">GPU 사용률 • 메모리 • 응답시간</text>
  </g>

  <!-- ===== 4. RAG 지식 베이스 시스템 ===== -->
  <g id="rag-system">
    <rect x="50" y="540" width="650" height="150" rx="10" fill="#f0f9f0" stroke="#7FB069" stroke-width="2" filter="url(#dropShadow)"/>
    <text x="70" y="565" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#7FB069">
      📚 RAG 지식 베이스 시스템
    </text>
    
    <!-- 지식 소스들 -->
    <rect x="80" y="580" width="120" height="50" rx="5" fill="#ffffff" stroke="#7FB069" stroke-width="2"/>
    <text x="140" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#7FB069">CNC 매뉴얼</text>
    <text x="140" y="615" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">운영 가이드</text>
    <text x="140" y="625" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">장애 대응법</text>
    
    <rect x="220" y="580" width="120" height="50" rx="5" fill="#ffffff" stroke="#7FB069" stroke-width="2"/>
    <text x="280" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#7FB069">과거 사례</text>
    <text x="280" y="615" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">장애 이력</text>
    <text x="280" y="625" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">해결 방법</text>
    
    <rect x="360" y="580" width="120" height="50" rx="5" fill="#ffffff" stroke="#7FB069" stroke-width="2"/>
    <text x="420" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#7FB069">코드 저장소</text>
    <text x="420" y="615" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">분석 스크립트</text>
    <text x="420" y="625" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">함수 라이브러리</text>
    
    <rect x="500" y="580" width="120" height="50" rx="5" fill="#ffffff" stroke="#7FB069" stroke-width="2"/>
    <text x="560" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#7FB069">기술 문서</text>
    <text x="560" y="615" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">API 문서</text>
    <text x="560" y="625" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">표준 절차</text>
    
    <!-- 벡터 데이터베이스 -->
    <rect x="80" y="645" width="200" height="35" rx="5" fill="url(#ragGradient)" filter="url(#dropShadow)"/>
    <text x="180" y="665" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">벡터 데이터베이스 (Chroma)</text>
    <text x="180" y="677" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">임베딩 저장 • 유사도 검색</text>
    
    <!-- 검색 엔진 -->
    <rect x="300" y="645" width="150" height="35" rx="5" fill="url(#ragGradient)" filter="url(#dropShadow)"/>
    <text x="375" y="665" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">지능형 검색 엔진</text>
    <text x="375" y="677" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">의미 기반 검색</text>
    
    <!-- 컨텍스트 생성 -->
    <rect x="470" y="645" width="150" height="35" rx="5" fill="url(#ragGradient)" filter="url(#dropShadow)"/>
    <text x="545" y="665" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">컨텍스트 생성기</text>
    <text x="545" y="677" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">관련 정보 조합</text>
  </g>

  <!-- ===== 5. 사용자 인터페이스 계층 ===== -->
  <g id="interface-layer">
    <rect x="720" y="540" width="630" height="150" rx="10" fill="#fffdf0" stroke="#FF9F43" stroke-width="2" filter="url(#dropShadow)"/>
    <text x="740" y="565" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#FF9F43">
      💬 사용자 인터페이스 계층
    </text>
    
    <!-- 자연어 쿼리 -->
    <rect x="750" y="580" width="150" height="50" rx="5" fill="#ffffff" stroke="#FF9F43" stroke-width="2"/>
    <text x="825" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#FF9F43">자연어 쿼리</text>
    <text x="825" y="615" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">"CNC 001의 진동이</text>
    <text x="825" y="625" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">왜 증가했나요?"</text>
    
    <!-- 대화형 챗봇 -->
    <rect x="920" y="580" width="150" height="50" rx="5" fill="#ffffff" stroke="#FF9F43" stroke-width="2"/>
    <text x="995" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#FF9F43">대화형 챗봇</text>
    <text x="995" y="615" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">운영자 상담</text>
    <text x="995" y="625" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">실시간 Q&A</text>
    
    <!-- 음성 인터페이스 -->
    <rect x="1090" y="580" width="150" height="50" rx="5" fill="#ffffff" stroke="#FF9F43" stroke-width="2"/>
    <text x="1165" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#FF9F43">음성 인터페이스</text>
    <text x="1165" y="615" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">음성 명령</text>
    <text x="1165" y="625" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50">STT/TTS</text>
    
    <!-- 쿼리 분석기 -->
    <rect x="750" y="645" width="200" height="35" rx="5" fill="url(#interfaceGradient)" filter="url(#dropShadow)"/>
    <text x="850" y="665" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">쿼리 분석 및 변환기</text>
    <text x="850" y="677" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">자연어 → SQL/함수 호출</text>
    
    <!-- 응답 생성기 -->
    <rect x="970" y="645" width="200" height="35" rx="5" fill="url(#interfaceGradient)" filter="url(#dropShadow)"/>
    <text x="1070" y="665" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">응답 생성 및 포맷터</text>
    <text x="1070" y="677" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">다중 형식 출력</text>
  </g>

  <!-- ===== 6. 출력 및 의사결정 지원 ===== -->
  <g id="output-layer">
    <rect x="50" y="710" width="1300" height="120" rx="10" fill="#f9f0ff" stroke="#8E44AD" stroke-width="2" filter="url(#dropShadow)"/>
    <text x="70" y="735" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#8E44AD">
      📊 출력 및 의사결정 지원 계층
    </text>
    
    <!-- 실시간 대시보드 -->
    <rect x="100" y="750" width="150" height="60" rx="8" fill="url(#outputGradient)" filter="url(#dropShadow)"/>
    <text x="175" y="770" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">실시간 대시보드</text>
    <text x="175" y="785" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 상태 모니터링</text>
    <text x="175" y="798" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 성능 지표</text>
    
    <!-- 자동 보고서 -->
    <rect x="280" y="750" width="150" height="60" rx="8" fill="url(#outputGradient)" filter="url(#dropShadow)"/>
    <text x="355" y="770" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">자동 보고서</text>
    <text x="355" y="785" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 교대 보고서</text>
    <text x="355" y="798" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 성능 분석</text>
    
    <!-- 알림 시스템 -->
    <rect x="460" y="750" width="150" height="60" rx="8" fill="url(#outputGradient)" filter="url(#dropShadow)"/>
    <text x="535" y="770" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">지능형 알림</text>
    <text x="535" y="785" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 예측 경고</text>
    <text x="535" y="798" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 조치 권고</text>
    
    <!-- 코드 생성 -->
    <rect x="640" y="750" width="150" height="60" rx="8" fill="url(#outputGradient)" filter="url(#dropShadow)"/>
    <text x="715" y="770" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">자동 코드 생성</text>
    <text x="715" y="785" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 분석 스크립트</text>
    <text x="715" y="798" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 수정 코드</text>
    
    <!-- 유지보수 가이드 -->
    <rect x="820" y="750" width="150" height="60" rx="8" fill="url(#outputGradient)" filter="url(#dropShadow)"/>
    <text x="895" y="770" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">유지보수 가이드</text>
    <text x="895" y="785" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 단계별 절차</text>
    <text x="895" y="798" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 안전 지침</text>
    
    <!-- 의사결정 지원 -->
    <rect x="1000" y="750" width="150" height="60" rx="8" fill="url(#outputGradient)" filter="url(#dropShadow)"/>
    <text x="1075" y="770" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">의사결정 지원</text>
    <text x="1075" y="785" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 최적화 제안</text>
    <text x="1075" y="798" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 비용 분석</text>
    
    <!-- API 인터페이스 -->
    <rect x="1180" y="750" width="150" height="60" rx="8" fill="url(#outputGradient)" filter="url(#dropShadow)"/>
    <text x="1255" y="770" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">API 인터페이스</text>
    <text x="1255" y="785" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• REST API</text>
    <text x="1255" y="798" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">• 외부 연동</text>
  </g>

  <!-- ===== 데이터 플로우 화살표 ===== -->
  
  <!-- CNC → 데이터 처리 -->
  <path d="M 650 190 L 650 250" stroke="#FF6B6B" stroke-width="3" marker-end="url(#arrowRed)"/>
  
  <!-- 데이터 처리 → LLM 코어 -->
  <path d="M 700 330 L 700 370" stroke="#4ECDC4" stroke-width="3" marker-end="url(#arrowTeal)"/>
  
  <!-- LLM 코어 → RAG -->
  <path d="M 450 460 L 450 530" stroke="#4A90E2" stroke-width="3" marker-end="url(#arrowBlue)"/>
  
  <!-- LLM 코어 → 인터페이스 -->
  <path d="M 800 460 L 900 530" stroke="#4A90E2" stroke-width="3" marker-end="url(#arrowBlue)"/>
  
  <!-- RAG → 인터페이스 (피드백) -->
  <path d="M 620 615 L 750 615" stroke="#7FB069" stroke-width="3" marker-end="url(#arrowGreen)"/>
  
  <!-- 인터페이스 → 출력 -->
  <path d="M 1035 700 L 1035 740" stroke="#FF9F43" stroke-width="3" marker-end="url(#arrowOrange)"/>
  
  <!-- 출력 → 데이터 처리 (피드백 루프) -->
  <path d="M 100 750 Q 30 500 100 320" stroke="#8E44AD" stroke-width="2" stroke-dasharray="5,5" fill="none" marker-end="url(#arrowPurple)"/>

  <!-- ===== 주요 특징 박스 ===== -->
  <g id="features">
    <rect x="50" y="850" width="1300" height="120" rx="10" fill="#f8f9fa" stroke="#dee2e6" stroke-width="2" filter="url(#dropShadow)"/>
    <text x="700" y="875" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2c3e50">
      🔧 주요 특징 및 장점
    </text>
    
    <!-- 특징들 -->
    <text x="80" y="900" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#e74c3c">🔒 완전 로컬 처리</text>
    <text x="80" y="920" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">• 산업기밀 보호 • 오프라인 운영 • 지연시간 최소화</text>
    
    <text x="350" y="900" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#3498db">⚡ 실시간 분석</text>
    <text x="350" y="920" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">• 1초 단위 모니터링 • 즉시 이상 감지 • 자동 알림</text>
    
    <text x="620" y="900" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#27ae60">🧠 지능형 학습</text>
    <text x="620" y="920" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">• 과거 사례 학습 • 패턴 인식 • 예측 정확도 향상</text>
    
    <text x="890" y="900" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#f39c12">💬 자연어 대화</text>
    <text x="890" y="920" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">• 직관적 질의 • 음성 명령 • 다언어 지원</text>
    
    <text x="1160" y="900" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#9b59b6">🔄 자동화</text>
    <text x="1160" y="920" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">• 코드 자동 생성 • 보고서 작성 • 의사결정 지원</text>
    
    <!-- 확장성 정보 -->
    <text x="80" y="950" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#e67e22">📈 확장 가능</text>
    <text x="80" y="967" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">• 다중 CNC 지원 • 클러스터 구성 • 모듈 추가</text>
    
    <text x="350" y="950" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#16a085">🛡️ 안정성</text>
    <text x="350" y="967" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">• 장애 복구 • 백업 시스템 • 무중단 운영</text>
    
    <text x="620" y="950" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#8e44ad">📊 표준 호환</text>
    <text x="620" y="967" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">• OPC UA • Modbus • EtherNet/IP</text>
    
    <text x="890" y="950" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#c0392b">⚙️ 커스터마이징</text>
    <text x="890" y="967" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">• 기업별 최적화 • 모델 파인튜닝 • 규칙 설정</text>
    
    <text x="1160" y="950" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2980b9">💰 비용 효율</text>
    <text x="1160" y="967" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">• 클라우드 비용 절약 • 단일 투자 • 장기 운영</text>
  </g>
</svg>